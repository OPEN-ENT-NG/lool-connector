<!DOCTYPE html>
<html>
    <head>
        <title>{{{provider-name}}}</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">

        <script src="/assets/js/entcore/ng-app.js?v=@@VERSION" id="context" type="text/javascript"></script>
        <script type="text/javascript" src="/lool/public/dist/application.js?v=@@VERSION"></script>

        <script type="text/ng-template" id="empty"></script>
        <script>
            var documentId = "{{document-id}}";
            var accessToken = "{{access-token}}";
            var resync = "{{resync}}";
            var providerName = "{{provider-name}}";
            var durationToken = "{{duration-token}}";
        </script>
    </head>

    <body ng-controller="MainController" style="height: 100%; width: 100%">
        <form action="{{{redirection}}}" id="loleafletform_viewer" target="loleafletframe_viewer"
              method="post">
            <input name="access_token" value="{{access-token}}" type="hidden" />
            <input name="access_token_ttl" value="{{duration-token}}" type="hidden" />
        </form>

        <iframe id="adapter" class="adapter" name="loleafletframe_viewer"
                allow="sync-xhr {{server}}; autoplay {{server}}; camera {{server}}; microphone {{server}}; display-capture {{server}}; clipboard-write {{server}};"
                allowFullScreen="true"
                style="z-index:500; position: absolute;height: calc(100% - 64px);width:100%; top: 64px;"></iframe>
        <portal>
            <lightbox on-close="display.lightbox = false;"
                      show="display.lightbox">
                <container template="lightbox"></container>
            </lightbox>
        </portal>
    </body>
</html>